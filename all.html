<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="https://chancejs.com/chance.min.js"></script>
<title>MLB - All Levels</title>
 <style>
 @keyframes slideInFromLeft {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0);
  }
}

.header {  
  /* This section calls the slideInFromLeft animation we defined above */
  animation: 1.3s ease-out 0s 1 slideInFromLeft;
  
  padding: 30px;
}
 .center {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  min-height: 100vh;
}
	  html {
        font-family: 'Open Sans', sans-serif;
      }
.copyme {
	box-shadow: 0px 10px 14px -7px #276873;
	background:linear-gradient(to bottom, #599bb3 5%, #408c99 100%);
	background-color:#599bb3;
	border-radius:8px;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:20px;
	font-weight:bold;
	padding:13px 32px;
	text-decoration:none;
	text-shadow:0px 1px 0px #3d768a;
}
.copyme:hover {
	background:linear-gradient(to bottom, #408c99 5%, #599bb3 100%);
	background-color:#408c99;
}
.copyme:active {
	position:relative;
	top:1px;
}

        
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 50%;
}

td, th {
  border: 1px solid #c9bdbd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #8f8989;
  color: white;
}

.progress-bar {
  width: 100%;
  height: 20px;
  background-color: #f2f2f2;
  border-radius: 10px;
  overflow: hidden;
}

.progress-bar::-webkit-progress-bar {
  background-color: #f2f2f2;
}

.progress-bar::-webkit-progress-value {
  background-color: #4CAF50;
  transition: width 0.5s ease-in-out;
}

</style>

<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  
  <div id="errorhandler" style="display: none;" class="header">
  <center>
  <h1>Oops.</h1>
  <p>Looks like we ran into an error, didn't we?</p>
  <p>It's alright, it's probably server-side issues.</p>
  <p>Should be solved soon enough.</p>
  <p>Here's the error. You can notify this on our <a href="https://discord.gg/jC3p7PxxU5">Discord Server</a>.</p>
  <small id="erroutput"></small>
  </center>
  </div>

  <center><table id="myTable" border="0" style="display: none;" class="center header"></center>
  <div id="loadingdiv" class="center">
  <center>
  <h1 id="randmsg"></h1>
  <progress id="myProgressBar" max="100" value="0" class="progress-bar"></progress>
  </center>
  </div>
  <tr>
    <th>Title</th>
    <th>Level Code</th>
    <th>Is Vanilla?</th>
    <th>Date</th>
  </tr>
  </table>

<script>
const loadingmsg = ['Loading mover cells...', 'Loading ninjas...', 'Loading cats...', 'Loading something good...', 'Who made the internal API?'];

    const randomIndex = Math.floor(Math.random() * loadingmsg.length);
    const randomItem = loadingmsg[randomIndex];

    console.log(randomItem)
	document.getElementById('randmsg').innerHTML = randomItem

function validateVanilla(text) {
  if (text == "off") { return "No" } else { return "Yes" }
}

var progressBar = document.getElementById("myProgressBar");

fetch('https://monomodbrowser.genarunchisacoa.repl.co/listjson')
  .then(response => response.json())
  .then(data => {
    const nestedData = data.data;
    const numItems = Object.keys(nestedData).length; // count the total number of items
    const table = document.getElementById("myTable");
    const progressBar = document.getElementById("myProgressBar");
    let processedItems = 0;
    for (let key in nestedData) {
      if (nestedData.hasOwnProperty(key)) {
        let item = nestedData[key];
        let row = table.insertRow();
        let nameCell = row.insertCell(0);
        let valueCell = row.insertCell(1);
        let dateCell = row.insertCell(-1);
        let vanillaCell = row.insertCell(2);
        let vanillaReal = validateVanilla(item.isvanilla)
        if (item.banned == null) {
		nameCell.innerHTML = item.head;
		valueCell.innerHTML = '<center><button onclick="' + "copyshit(`" + item.val + "`, " + "`" + item.head + "`)" + '" style="cursor: pointer;" class="copyme">Copy</button></center>';
        dateCell.innerHTML = item.date;
        vanillaCell.innerHTML = vanillaReal;
		} else {
		nameCell.innerHTML = "--BANNED--"
		var banReason = item.banned.split(".").join(".<br>");
		banReason = item.banned.split(",").join(",<br>");
		valueCell.innerHTML = "This level was banned.<br>Reason: " + banReason
		dateCell.innerHTML = "-";
        vanillaCell.innerHTML = "-";
		}
        processedItems++;
		let progress = Math.floor(processedItems / numItems * 100);
        progressBar.value = progress;
        console.log(progress.toString(), "%");
      }
    }
    setTimeout(function() {
      $("#loadingdiv").hide()
      $("#myTable").show() // show table when parsing is complete
    }, 0);
  })
  .catch(error => function() {
  document.getElementById("erroutput").innerHTML = error
  $("#loadingdiv").hide()
  $("#errorhandler").show()
  });
  
function copyshit(shit, title) {
  navigator.clipboard.writeText(shit);
  Toastify({

text: 'Copied "' + title + '" to the clipboard!',

duration: 3000

}).showToast();
}

</script>